# AnalyzeDailyDiscussion

`AnalyzeDailyDiscussion.py` は、指定した年と月の国会会議録を自動的に取得し、日ごとのトピックと概要を生成して個別の `.md` ファイルに保存するスクリプトです。政策トピックの抽出には OpenAI API を使用し、日ごとの議論内容を要約します。

## 機能

- **データ取得**: 指定された年と月の国会会議録を取得し、日ごとにまとめます。
- **トピックと概要の抽出**: 各日付の発言内容から主要なトピックとその概要を生成します。
- **マークダウン形式での保存**: 日ごとの議論内容とトピック要約を `.md` ファイル形式で出力します（例: `2024-03-15.md` ）。

## 必要条件

- Python 3.x
- OpenAI Python クライアント (`openai` パッケージ)
- `tqdm` ライブラリ（進捗バー表示用）

必要なライブラリは以下のコマンドでインストールできます。

```bash
pip install openai tqdm
```

## 環境変数の設定

OpenAI API キーを取得し、環境変数 `OPENAI_API_KEY` に設定する必要があります。

```bash
export OPENAI_API_KEY="your_openai_api_key"
```

## 使い方

1. **実行準備**: スクリプト内の `main(year, month)` 関数に、解析対象の年と月を指定します。
2. **スクリプトの実行**: ターミナルで以下のコマンドを実行します。

```bash
python AnalyzeDailyDiscussion.py
```

### 例

例えば、2024 年 3 月の国会会議録を解析したい場合、`main(2024, 3)` を指定してスクリプトを実行します。日ごとのトピック要約が以下のように出力されます。

- `2024-03-01.md`
- `2024-03-02.md`
- ...

## 出力

出力ファイル（例: `2024-03-15.md`）には、その日のトピック要約が以下の形式で記録されます。

```markdown
# 2024-03-15 の国会議事録 トピック要約

**抽出されたトピック**: 教育政策, 経済対策, 医療制度
```

各 `.md` ファイルには日ごとのトピック要約が含まれ、解析されたトピックとその概要が記録されます。

## 注意点

- **トークン制限**: 長いテキストは API のトークン制限を超えないように分割して処理されます。
- **API の使用料金**: OpenAI API の使用には料金がかかるため、大量データを解析する際は料金にご注意ください。
- **実行時間**: 国会会議録の取得と解析には時間がかかる場合があります。進捗は `tqdm` により表示されます。
